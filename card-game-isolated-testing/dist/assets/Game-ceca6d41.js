var he=Object.defineProperty;var fe=(t,e,n)=>e in t?he(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>(fe(t,typeof e!="symbol"?e+"":e,n),n);import{r as d,g as be,R as Se,j as o,v as Q,U as q}from"./index-c60cc052.js";const G=t=>{let e;const n=new Set,l=(s,f)=>{const p=typeof s=="function"?s(e):s;if(!Object.is(p,e)){const g=e;e=f??typeof p!="object"?p:Object.assign({},e,p),n.forEach(y=>y(e,g))}},i=()=>e,c={setState:l,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{n.clear()}};return e=t(l,i,c),c},ve=t=>t?G(t):G;var X={exports:{}},Z={},ee={exports:{}},te={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A=d;function Me(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ye=typeof Object.is=="function"?Object.is:Me,_e=A.useState,we=A.useEffect,Ce=A.useLayoutEffect,ke=A.useDebugValue;function Te(t,e){var n=e(),l=_e({inst:{value:n,getSnapshot:e}}),i=l[0].inst,a=l[1];return Ce(function(){i.value=n,i.getSnapshot=e,H(i)&&a({inst:i})},[t,n,e]),we(function(){return H(i)&&a({inst:i}),t(function(){H(i)&&a({inst:i})})},[t]),ke(n),n}function H(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ye(t,n)}catch{return!0}}function xe(t,e){return e()}var Ae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xe:Te;te.useSyncExternalStore=A.useSyncExternalStore!==void 0?A.useSyncExternalStore:Ae;ee.exports=te;var Pe=ee.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W=d,Ee=Pe;function Oe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var je=typeof Object.is=="function"?Object.is:Oe,Re=Ee.useSyncExternalStore,Be=W.useRef,Ie=W.useEffect,$e=W.useMemo,Ne=W.useDebugValue;Z.useSyncExternalStoreWithSelector=function(t,e,n,l,i){var a=Be(null);if(a.current===null){var r={hasValue:!1,value:null};a.current=r}else r=a.current;a=$e(function(){function s(h){if(!f){if(f=!0,p=h,h=l(h),i!==void 0&&r.hasValue){var v=r.value;if(i(v,h))return g=v}return g=h}if(v=g,je(p,h))return v;var M=l(h);return i!==void 0&&i(v,M)?v:(p=h,g=M)}var f=!1,p,g,y=n===void 0?null:n;return[function(){return s(e())},y===null?void 0:function(){return s(y())}]},[e,n,l,i]);var c=Re(t,a[0],a[1]);return Ie(function(){r.hasValue=!0,r.value=c},[c]),Ne(c),c};X.exports=Z;var qe=X.exports;const We=be(qe),{useDebugValue:De}=Se,{useSyncExternalStoreWithSelector:He}=We;function Fe(t,e=t.getState,n){const l=He(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return De(l),l}const L=t=>{const e=typeof t=="function"?ve(t):t,n=(l,i)=>Fe(e,l,i);return Object.assign(n,e),n},ne=t=>t?L(t):L,m=ne(t=>({stack:[],pushModal:e=>t(n=>({stack:[...n.stack,e]})),popModal:()=>t(e=>({stack:e.stack.slice(0,-1)})),clearModals:()=>t({stack:[]})})),Ge="_modalBackdrop_1vfdn_1",Le="_modalContent_1vfdn_27",ze="_GradientAnim_1vfdn_1",Ue="_modalCloseButton_1vfdn_49",Ye="_slideOutEllipticTopBck_1vfdn_79",O={modalBackdrop:Ge,modalContent:Le,GradientAnim:ze,"tilt-in-fwd-tr":"_tilt-in-fwd-tr_1vfdn_71",modalCloseButton:Ue,slideOutEllipticTopBck:Ye,"slide-out-elliptic-top-bck":"_slide-out-elliptic-top-bck_1vfdn_1"},Ve=({children:t,index:e})=>{const[n,l]=d.useState(!1),i=m(s=>s.popModal),a=m(s=>s.stack);d.useEffect(()=>{a.length-1<e&&l(!0)},[a.length,e]);const r=()=>{l(!0);let s=a.length-1-e;setTimeout(()=>{for(;s>=0;)i(),s--},700)},c=n?`${O.modalContent} ${O.slideOutEllipticTopBck}`:O.modalContent;return o.jsx("div",{className:O.modalBackdrop,onClick:r,children:o.jsxs("div",{className:c,onClick:s=>s.stopPropagation(),children:[t,o.jsx("button",{className:O.modalCloseButton,onClick:r,children:"×"})]})})},Ke=({children:t})=>{const e=m(n=>n.stack);return o.jsxs(o.Fragment,{children:[t,e.map((n,l)=>o.jsx(Ve,{index:l,children:n},l))]})},Je="_imageContainer_12oip_1",Qe="_backgroundImage_12oip_15",z={imageContainer:Je,backgroundImage:Qe},U=ne(t=>({mapEntities:{0:null,1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null,11:null,12:null,13:null},addEntity:e=>t(n=>({...n,mapEntities:{...n.mapEntities,[Y(e)]:e}})),removeEntity:e=>t(n=>({...n,mapEntities:{...n.mapEntities,[Y(e)]:null}}))}));function Y(t){return t.spot}const se={1:0,2:.2,3:.5,4:1,5:2},oe={1:0,2:.1,3:.25,4:.75,5:1.5},B={1:.2,2:.75,3:1.25,4:2.25,5:5},I={1:0,2:.1,3:.25,4:.5,5:.75},b=Q,S={buildings:{AmusementPark:"src/assets/imgs_new_convention/cards/cards-amusementParkCard.webp",ToolStore:"src/assets/imgs_new_convention/cards/cards-toolStoreCard.webp",Hospital:"src/assets/imgs_new_convention/cards/cards-hospitalCard.webp",RadioStation:"src/assets/imgs_new_convention/cards/cards-radioStationCard.webp"},reg:{SimpleWindTurbine:"src/assets/imgs_new_convention/cards/cards-simpleWindTurbineCard.webp",SimpleSolarPanel:"src/assets/imgs_new_convention/cards/cards-simpleSolarPanelCard.webp",SuperWindTurbine:"src/assets/imgs_new_convention/cards/cards-superWindTurbineCard.webp",SuperSolarPanel:"src/assets/imgs_new_convention/cards/cards-superSolarPanelCard.webp"},sps:{WallStreet:"src/assets/imgs_new_convention/cards/cards-stocksChartCard.webp",LoveApp:"src/assets/imgs_new_convention/cards/cards-heartPhoneCard.webp",SuperStrong:"src/assets/imgs_new_convention/cards/cards-energyDrinkCard.webp"}},T={buildings:{AmusementPark:b[S.buildings.AmusementPark].file,ToolStore:b[S.buildings.ToolStore].file,Hospital:b[S.buildings.Hospital].file,RadioStation:b[S.buildings.RadioStation].file},reg:{SimpleWindTurbine:b[S.reg.SimpleWindTurbine].file,SimpleSolarPanel:b[S.reg.SimpleSolarPanel].file,SuperWindTurbine:b[S.reg.SuperWindTurbine].file,SuperSolarPanel:b[S.reg.SuperSolarPanel].file},sps:{WallStreet:b[S.sps.WallStreet].file,LoveApp:b[S.sps.LoveApp].file,SuperStrong:b[S.sps.SuperStrong].file}},ie={id:101,name:"ToolStore",type:"building",image:T.buildings.ToolStore,baseMaintenance:{energy:30},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseStats:{gold:0,concrete:0,metals:0,crystals:0},baseOutput:{boost:.25},desc:"Enchances Gathering"},le={id:102,name:"AmusementPark",type:"building",image:T.buildings.AmusementPark,baseMaintenance:{energy:300},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{boost:.25},desc:"Enchances Happiness"},ae={id:103,name:"Hospital",type:"building",image:T.buildings.Hospital,baseMaintenance:{energy:800},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{boost:.25},desc:"Enchances Growth"},re={id:104,name:"RadioStation",type:"building",image:T.buildings.RadioStation,baseMaintenance:{energy:800},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{boost:.25},desc:"Enchances Special Effects"},_={101:le,102:ae,103:re,104:ie},V={AmusementPark:le,Hospital:ae,RadioStation:re,ToolStore:ie};function ce(t){const e=t.getFullYear().toString(),n=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${l}`}const x=(t,e)=>{const n=Math.pow(10,e);return Math.round(t*n)/n};class j{constructor(e,n){u(this,"id");u(this,"templateId");u(this,"type","building");u(this,"img");u(this,"spot");u(this,"rarity");u(this,"priceTag");u(this,"forSale");u(this,"creationTime");u(this,"creator");u(this,"state");u(this,"name");u(this,"output");u(this,"maintenance");u(this,"requirements");u(this,"stats");u(this,"ownerId");u(this,"level");u(this,"desc");u(this,"doctors");console.log("======================================================"),console.log("1. The dataFromDB: ",e),console.log("======================================================"),this.img=n,this.id=e.id,this.state=!!e.state,this.rarity=e.rarity,this.priceTag=e.priceTag,this.forSale=!!e.in_mp,this.creationTime=e.creationTime,this.creator=e.creator,this.spot=e.spot,this.level=e.level,this.ownerId=e.ownerId,this.templateId=e.templateId,this.maintenance=this.updateMaintenance(_[this.templateId].baseMaintenance),this.requirements=this.updateRequirements(_[this.templateId].baseRequirements),this.output=this.updateOutput(_[this.templateId].baseOutput),this.desc=_[this.templateId].desc,this.name=_[this.templateId].name}static createNew(e,n,l,i,a=0,r=!1){const s={id:e+1e3,rarity:this.generateRarityLevel(),priceTag:null,in_mp:!1,creationTime:ce(new Date),creator:l,spot:a,level:1,templateId:V[i].id,ownerId:n,state:r};return new j(s,V[i].image)}static fromDb(e,n){return new j(e,n)}levelUp(){if(this.level===5)return 5;const e=this.level+1;e>=1&&e<=5&&(this.level=e);const n=this.updateOutput(_[this.templateId].baseOutput);if(n===void 0)throw new Error("⛔ From: Building Class, updateObjectValuesV1");return this.output=n,this.maintenance=this.updateMaintenance(_[this.templateId].baseMaintenance),this.requirements=this.updateRequirements(_[this.templateId].baseRequirements),this.level}activate(){this.state=!0}deactivate(){this.state=!1}setOwner(e){this.ownerId=e}updateStats(e){this.stats={...this.stats,...e}}static generateRarityLevel(){const e=Math.random();return e<.5?1:e<.7?2:e<.88?3:e<.96?4:5}updateOutput(e){const n={boost:-1};for(const l in e)return Object.hasOwnProperty.call(e,l)&&(n.boost=x(e.boost*(se[+`${this.level}`]+oe[+`${this.rarity}`]+1),2)),n}updateMaintenance(e){console.log("1. Base Requirements: ",e);const n={energy:-1};console.log("2 | this.level: ",this.level);const l=B[+`${this.level}`],i=I[+`${this.level}`];console.log("3.1 | levelMulti: ",l),console.log("3.1 | _upgradeCoef: ",i);const a=l-i+1;for(const r in e)Object.hasOwnProperty.call(e,r)&&(n.energy=x(Number(e.energy)*a,2));return console.log("4. Updated Requirements: ",n),n}updateRequirements(e){console.log("Base Requirements: ",e);const n={gold:-1,concrete:-1,crystals:-1,metals:-1,dieselBarrels:-1,citizens:-1},l=B[+`${this.level}`],i=I[+`${this.level}`],a=l-i+1;for(const r in e)if(Object.hasOwnProperty.call(e,r)){const c=r;n[c]=x(Number(e[c])*a,2)}return console.log("Updated Requirements: ",n),n}}const D="Produces Energy",ue={id:201,name:"SimpleWindTurbine",type:"reg",image:T.reg.SimpleWindTurbine,baseMaintenance:{gold:30},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{energy:.1},desc:D},de={id:202,name:"SuperWindTurbine",type:"reg",image:T.reg.SuperWindTurbine,baseMaintenance:{gold:300},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{energy:.25},desc:D},pe={id:203,name:"SimpleSolarPanel",type:"reg",image:T.reg.SimpleSolarPanel,baseMaintenance:{gold:800},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{energy:.25},desc:D},me={id:204,name:"SuperSolarPanel",type:"reg",image:T.reg.SuperSolarPanel,baseMaintenance:{gold:800},baseRequirements:{gold:500,concrete:650,metals:780,crystals:260,citizens:0,dieselBarrels:0},baseOutput:{energy:.25},desc:D},w={201:ue,202:de,203:pe,204:me},K={SimpleWindTurbine:ue,SuperWindTurbine:de,SimpleSolarPanel:pe,SuperSolarPanel:me};class R{constructor(e,n){u(this,"id");u(this,"templateId");u(this,"type","reg");u(this,"img");u(this,"spot");u(this,"rarity");u(this,"priceTag");u(this,"forSale");u(this,"creationTime");u(this,"creator");u(this,"state");u(this,"name");u(this,"output");u(this,"maintenance");u(this,"requirements");u(this,"ownerId");u(this,"level");u(this,"desc");console.log("======================================================"),console.log("1. Constructor: The Input Data: ",e),console.log("======================================================"),this.img=n,this.id=e.id,this.state=!!e.state,this.rarity=e.rarity,this.priceTag=e.priceTag,this.forSale=!!e.in_mp,this.creationTime=e.creationTime,this.creator=e.creator,this.spot=e.spot,this.level=e.level,this.ownerId=e.ownerId,this.templateId=e.templateId,this.maintenance=this.updateMaintenance(w[this.templateId].baseMaintenance),this.requirements=this.updateRequirements(w[this.templateId].baseRequirements),this.output=this.updateOutput(w[this.templateId].baseOutput),this.desc=w[this.templateId].desc,this.name=w[this.templateId].name}static createNew(e,n,l,i,a=0,r=!1){const s={id:e+2e3,rarity:this.generateRarityLevel(),priceTag:null,in_mp:!1,creationTime:ce(new Date),creator:l,spot:a,level:1,templateId:K[i].id,ownerId:n,state:r};return new R(s,K[i].image)}static fromDb(e,n){return new R(e,n)}levelUp(){if(this.level===5)return 5;const e=this.level+1;e>=1&&e<=5&&(this.level=e);const n=this.updateOutput(w[this.templateId].baseOutput);if(n===void 0)throw new Error("⛔ From: Reg Class, updateObjectValuesV1");return this.output=n,this.maintenance=this.updateMaintenance(w[this.templateId].baseMaintenance),this.requirements=this.updateRequirements(w[this.templateId].baseRequirements),this.level}activate(){this.state=!0}deactivate(){this.state=!1}setOwner(e){this.ownerId=e}static generateRarityLevel(){const e=Math.random();return e<.5?1:e<.7?2:e<.88?3:e<.96?4:5}updateOutput(e){const n={energy:-1};for(const l in e)return Object.hasOwnProperty.call(e,l)&&(n.energy=x(e.energy*(se[+`${this.level}`]+oe[+`${this.rarity}`]+1),2)),n}updateMaintenance(e){console.log("1. Base Requirements: ",e);const n={gold:-1};console.log("2 | this.level: ",this.level);const l=B[+`${this.level}`],i=I[+`${this.level}`];console.log("3.1 | levelMulti: ",l),console.log("3.1 | _upgradeCoef: ",i);const a=l-i+1;for(const r in e)Object.hasOwnProperty.call(e,r)&&(n.gold=x(Number(e.gold)*a,2));return console.log("4. Updated Requirements: ",n),n}updateRequirements(e){console.log("Base Requirements: ",e);const n={gold:-1,concrete:-1,crystals:-1,metals:-1,dieselBarrels:-1,citizens:-1},l=B[+`${this.level}`],i=I[+`${this.level}`],a=l-i+1;for(const r in e)if(Object.hasOwnProperty.call(e,r)){const c=r;n[c]=x(Number(e[c])*a,2)}return console.log("Updated Requirements: ",n),n}}const Xe=()=>o.jsx("svg",{width:"0",height:"0",style:{position:"absolute"},children:o.jsxs("filter",{id:"glowOutline",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:`0 0 0 0 0\r
                           0 0 0 0 0\r
                           0 0 0 0 0\r
                           0 0 0 1 0`,result:"hardAlpha"}),o.jsx("feMorphology",{in:"hardAlpha",operator:"dilate",radius:"4",result:"dilatedAlpha"})," ",o.jsx("feGaussianBlur",{in:"dilatedAlpha",stdDeviation:"6",result:"blurredAlpha"})," ",o.jsx("feFlood",{floodColor:"yellow",result:"yellowColor"}),o.jsx("feComposite",{in:"yellowColor",in2:"blurredAlpha",operator:"in",result:"yellowGlow"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"yellowGlow"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),C=Q,k={buildings:{AmusementPark:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-amusementParkOnMapAsset.webp",ToolStore:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-toolStoreOnMapAsset.webp",Hospital:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-hospitalOnMapAsset.webp",RadioStation:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-radioStationOnMapAsset.webp"},reg:{SimpleWindTurbine:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-simpleWindTurbineOnMapAsset.webp",SimpleSolarPanel:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-simpleSolarPanelOnMapAsset.webp",SuperWindTurbine:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-superWindTurbineOnMapAsset.webp",SuperSolarPanel:"src/assets/imgs_new_convention/onMapAssets/onMapAssets-superSolarPanelOnMapAsset.webp"}},Ze={buildings:{AmusementPark:C[k.buildings.AmusementPark].file,ToolStore:C[k.buildings.ToolStore].file,Hospital:C[k.buildings.Hospital].file,RadioStation:C[k.buildings.RadioStation].file},reg:{SimpleWindTurbine:C[k.reg.SimpleWindTurbine].file,SimpleSolarPanel:C[k.reg.SimpleSolarPanel].file,SuperWindTurbine:C[k.reg.SuperWindTurbine].file,SuperSolarPanel:C[k.reg.SuperSolarPanel].file}},ge=Ze;function et(t){return t instanceof j}const tt="_outlineGlowImage_1i7lc_1",nt="_onMap_1i7lc_9",J={outlineGlowImage:tt,onMap:nt},P=({src:t,alt:e,isHovered:n,onHover:l,onLeave:i})=>o.jsx("img",{src:t,alt:e,className:`${J.onMap} ${n?J.outlineGlowImage:""}`,onMouseEnter:l,onMouseLeave:i});const st="_confirmationModal_1vtov_1",ot="_slideOutEllipticTopBck_1vtov_9",it={confirmationModal:st,slideOutEllipticTopBck:ot,"slide-out-elliptic-top-bck":"_slide-out-elliptic-top-bck_1vtov_1"},lt=({onConfirm:t,onCancel:e,message:n})=>{const l=m(r=>r.popModal),i=d.useCallback(()=>{t(),l()},[t]),a=d.useCallback(()=>{e(),l()},[e]);return o.jsxs("div",{className:it.confirmationModal,children:[o.jsx("p",{children:n}),o.jsx("button",{onClick:i,children:"Confirm"}),o.jsx("button",{onClick:a,children:"Cancel"})]})},at="_standardModalContainer_1yo3r_1",rt={standardModalContainer:at},E=({onConfirm:t,onCancel:e,message:n})=>{const l=m(a=>a.pushModal),i=d.useCallback(()=>{l(o.jsx(lt,{message:"Are you sure you want to perform this action?",onConfirm:()=>{t()},onCancel:()=>{e()}}))},[]);return o.jsxs("div",{className:rt.standardModalContainer,children:[o.jsx("p",{children:n}),o.jsx("div",{children:o.jsx("button",{onClick:i,children:"lvl Up - Open Confirmation Modal"})})]})},ct=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,mapEntities:i})=>{const a=m(c=>c.pushModal),r=d.useCallback((c,s)=>{a(o.jsx(E,{message:`This is the Standard Modal For a [Building] OnMap-Entity, Name: [${c}], ID: [${s}]`,onConfirm:()=>{console.log("✅ You pressed the Confirm Button!")},onCancel:()=>{console.log("❌ You pressed the Cancel Button!")}}))},[]);return o.jsx("div",{children:Object.entries(i).map(([c,s])=>s===null||(s==null?void 0:s.type)===void 0||(s==null?void 0:s.type)!=="building"||!et(s)?null:o.jsx("div",{className:`buildingSpot${c}`,onClick:()=>{l(s.id),r(s.name,s.id)},children:o.jsx(P,{src:ge.buildings[s.name],alt:s.name,isHovered:t===s.id,onHover:()=>e(s.id),onLeave:()=>n(s.id)},s.id)},s.id))})};const ut=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l})=>{const{images:i}=q(),a=m(s=>s.pushModal),r=m(s=>s.popModal),c=d.useCallback(()=>{a(o.jsx(E,{message:"This is Diesel Factory [DIESEL FACTORY - Modal]",onConfirm:()=>{r()},onCancel:()=>{r()}}))},[]);if(i===void 0)throw new Error("⛔ TownHallOnMap, images is undefined!");return o.jsx("div",{className:"defaultBuildingFactory",onClick:()=>{l(2),c()},children:o.jsx(P,{src:i.onMapAssets.dieselFactoryOnMapAsset,alt:"Factory - On Map",isHovered:t===2,onHover:()=>e(2),onLeave:()=>n(2)})})},dt=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l})=>{const{images:i}=q(),a=m(s=>s.pushModal),r=m(s=>s.popModal),c=d.useCallback(()=>{a(o.jsx(E,{message:"This is Town Hall [TOWN HALL - Modal]",onConfirm:()=>{r()},onCancel:()=>{r()}}))},[]);if(i===void 0)throw new Error("⛔ TownHallOnMap, images is undefined!");return o.jsx("div",{className:"defaultBuildingTownHall",onClick:()=>{l(1),c()},children:o.jsx(P,{src:i==null?void 0:i.onMapAssets.townHallOnMapAsset,alt:"TownHall OnMap",isHovered:t===1,onHover:()=>e(1),onLeave:()=>n(1)})})},pt=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l})=>o.jsxs("div",{children:[o.jsx(ut,{highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l}),o.jsx(dt,{highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l})]});function mt(t){return t instanceof R}const gt=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,mapEntities:i})=>{const a=m(c=>c.pushModal),r=d.useCallback((c,s)=>{a(o.jsx(E,{message:`This is the Standard Modal For a [REG] OnMap-Entity, Name: [${c}], ID: [${s}]`,onConfirm:()=>{console.log("✅ You pressed the Confirm Button!")},onCancel:()=>{console.log("❌ You pressed the Cancel Button!")}}))},[]);return o.jsx("div",{children:Object.entries(i).map(([c,s])=>s===null||(s==null?void 0:s.type)===void 0||(s==null?void 0:s.type)!=="reg"||!mt(s)?null:o.jsx("div",{className:s.name.includes("Wind")?`regSpotWind${c}`:`regSpotSolar${c}`,onClick:()=>{l(s.id),r(s.name,s.id)},children:o.jsx(P,{src:ge.reg[s.name],alt:s.name,isHovered:t===s.id,onHover:()=>e(s.id),onLeave:()=>n(s.id)},s.id)},s.id))})},F=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,mapEntities:i,entityType:a})=>o.jsx("div",{children:o.jsxs(o.Fragment,{children:[a==="building"&&o.jsx(ct,{highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,mapEntities:i}),a==="reg"&&o.jsx(gt,{highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,mapEntities:i}),a==="default"&&o.jsx(pt,{highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l})]})}),ht="_buildingPlaceholderContainer_q4ln9_1",ft="_buildingPadlockContainer_q4ln9_17",bt="_buildingPadlock_q4ln9_17",$={buildingPlaceholderContainer:ht,buildingPadlockContainer:ft,buildingPadlock:bt},St=({spot:t,padlockImg:e})=>{const n=d.useMemo(()=>Math.random()*2+6,[]);return o.jsx("div",{className:$.buildingPadlockContainer,children:o.jsx("img",{className:$.buildingPadlock,style:{animation:`floatPadlock${t%2===0?"1":"2"} ${n}s ease-in-out infinite`},src:e})})};const vt=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,id:i,spot:a,isLocked:r,mapEntities:c,imgUrls:s})=>{const[f,p]=d.useState(!1),g=m(M=>M.pushModal),y=d.useCallback(()=>{p(!0)},[]),h=d.useCallback(()=>{p(!1)},[]),v=d.useCallback(M=>{g(o.jsx(E,{message:`This is the Standard Modal For a [BUILDING] Placeholder, SPOT: [${M}]`,onConfirm:()=>{console.log("✅ You pressed the Confirm Button!")},onCancel:()=>{console.log("❌ You pressed the Cancel Button!")}}))},[]);return o.jsx(o.Fragment,{children:c[a]===null?o.jsx("div",{className:`placeholderSpot${a}`,onClick:()=>{r?y():v(a)},onAnimationEnd:h,children:o.jsxs("div",{className:f&&r?`${$.buildingPlaceholderContainer} shakeHorizontal`:$.buildingPlaceholderContainer,onClick:()=>l(i),onMouseEnter:()=>e(i),onMouseLeave:()=>n(i),children:[r&&o.jsx(St,{spot:a,padlockImg:s.padlock}),o.jsx(P,{src:s.placeholder,alt:"Building - Placeholder",isHovered:t===i,onHover:()=>e(i),onLeave:()=>n(i)})]})},i):null})},Mt="_regPlaceholderContainer_1mzn1_1",yt="_regPadlockContainer_1mzn1_17",_t="_regPadlock_1mzn1_17",wt="_floatPadlock_1mzn1_1",N={regPlaceholderContainer:Mt,regPadlockContainer:yt,regPadlock:_t,floatPadlock:wt},Ct=({spot:t,padlockImg:e})=>{const n=d.useMemo(()=>Math.random()*2+6,[]);return o.jsx("div",{className:N.regPadlockContainer,children:o.jsx("img",{className:N.regPadlock,style:{animation:`floatPadlock${t%2===0?"1":"2"} ${n}s ease-in-out infinite`},src:e})})},kt=({highlightedImg:t,handleHover:e,handleLeave:n,setSelectedMapEntity:l,id:i,spot:a,isLocked:r,mapEntities:c,imgUrls:s})=>{const[f,p]=d.useState(!1),g=m(M=>M.pushModal),y=d.useCallback(()=>{p(!0)},[]),h=d.useCallback(()=>{p(!1)},[]),v=d.useCallback(M=>{g(o.jsx(E,{message:`This is the Standard Modal For a [REG] Placeholder, SPOT: [${M}]`,onConfirm:()=>{console.log("✅ You pressed the Confirm Button!")},onCancel:()=>{console.log("❌ You pressed the Cancel Button!")}}))},[]);return o.jsx(o.Fragment,{children:c[a]===null?o.jsx("div",{className:`placeholderSpot${a}`,onClick:()=>{r?y():v(a)},onAnimationEnd:h,children:o.jsxs("div",{className:f&&r?`${N.regPlaceholderContainer} shakeHorizontal`:N.regPlaceholderContainer,onClick:()=>l(i),onMouseEnter:()=>e(i),onMouseLeave:()=>n(i),children:[r&&o.jsx(Ct,{spot:a,padlockImg:s.padlock}),o.jsx(P,{src:s.placeholder,alt:"REG - Placeholder",isHovered:t===i,onHover:()=>e(i),onLeave:()=>n(i)})]})},i):null})},Tt=[{id:401,spot:1,subType:"reg",unlocksAt:5},{id:402,spot:2,subType:"building",unlocksAt:2},{id:403,spot:3,subType:"reg",unlocksAt:2},{id:404,spot:4,subType:"building",unlocksAt:1},{id:405,spot:5,subType:"building",unlocksAt:2},{id:406,spot:6,subType:"building",unlocksAt:1},{id:407,spot:7,subType:"building",unlocksAt:3},{id:408,spot:8,subType:"reg",unlocksAt:3},{id:409,spot:9,subType:"building",unlocksAt:4},{id:410,spot:10,subType:"reg",unlocksAt:3},{id:411,spot:11,subType:"reg",unlocksAt:4},{id:422,spot:12,subType:"building",unlocksAt:5},{id:413,spot:13,subType:"reg",unlocksAt:5}],xt=({playerInfo:t,mapEntities:e,highlightedImg:n,handleHover:l,handleLeave:i,setSelectedMapEntity:a})=>{const{images:r}=q();if(r===void 0)throw new Error("⛔ Placeholders, images are undefined!");const c=d.useMemo(()=>({building:{placeholder:r.onMapAssets.buildingPlaceholderOnMapAsset,padlock:r.onMapAssets.buildingPadLockOnMapAsset},reg:{placeholder:r.onMapAssets.REGPlaceholderOnMapAsset,padlock:r.onMapAssets.REGPadlockOnMapAsset}}),[r]);return o.jsx("div",{children:Tt.map(s=>{if(s.subType==="building")return o.jsx(vt,{id:s.id,isLocked:s.id===402?!0:t.townHallLevel<s.unlocksAt,spot:s.spot,highlightedImg:n,handleHover:l,handleLeave:i,setSelectedMapEntity:a,mapEntities:e,imgUrls:c.building},s.id);if(s.subType==="reg")return o.jsx(kt,{id:s.id,isLocked:t.townHallLevel<s.unlocksAt,spot:s.spot,highlightedImg:n,handleHover:l,handleLeave:i,setSelectedMapEntity:a,mapEntities:e,imgUrls:c.reg},s.id);throw new Error("⛔ Problem Origin: Placeholders.tsx")})})},At=t=>[{spot:1,img:t.onMapAssets.tree_01OnMapAsset},{spot:2,img:t.onMapAssets.tree_02OnMapAsset},{spot:3,img:t.onMapAssets.tree_03OnMapAsset},{spot:4,img:t.onMapAssets.tree_05OnMapAsset},{spot:5,img:t.onMapAssets.trees_and_Shadow_01_BigOnMapAsset},{spot:6,img:t.onMapAssets.orange_Bush_and_Shadow_01OnMapAsset},{spot:7,img:t.onMapAssets.trees_and_Shadow_01_SmallOnMapAsset},{spot:8,img:t.onMapAssets.forest_01OnMapAsset},{spot:9,img:t.onMapAssets.REG__01OnMapAsset}];const Pt=({spot:t,imgSrc:e})=>o.jsx("div",{className:`treeSpot${t}`,children:o.jsx("img",{className:"tree",src:e})}),Et=({images:t})=>{if(t===void 0)throw new Error("TreesOnMap: images Object is undefined!");const e=d.useMemo(()=>At(t),[t]);return o.jsx(o.Fragment,{children:e.map(({spot:n,img:l},i)=>o.jsx(Pt,{spot:n,imgSrc:l},i))})},Ot=()=>{const{images:t}=q(),[e,n]=d.useState(null),[l,i]=d.useState(null),a=U(p=>p.mapEntities),r=U(p=>p.addEntity);if((t==null?void 0:t.maps)===void 0||(t==null?void 0:t.onMapAssets)===void 0)throw new Error("⛔ TownMap: images are undefined!");d.useEffect(()=>{const p=R.createNew(2,2,"ssss","SimpleSolarPanel",11,!0),g=j.createNew(1,1,"Player_02","AmusementPark",4,!0);r(p),r(g)},[]),d.useEffect(()=>{l!==null&&console.log("The Selected Image is this: ",l)},[l]);const c=d.useCallback(p=>{n(p)},[]),s=d.useCallback(()=>{n(null)},[]),f={townHallLevel:2};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:z.imageContainer,children:[o.jsx("img",{src:t.maps.townMap,alt:"Background - TownMap",className:z.backgroundImage}),o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx(xt,{setSelectedMapEntity:i,handleHover:c,handleLeave:s,highlightedImg:e,playerInfo:f,mapEntities:a}),o.jsx(F,{setSelectedMapEntity:i,handleHover:c,handleLeave:s,highlightedImg:e,mapEntities:a,entityType:"building"}),o.jsx(F,{setSelectedMapEntity:i,handleHover:c,handleLeave:s,highlightedImg:e,mapEntities:a,entityType:"reg"}),o.jsx(F,{setSelectedMapEntity:i,handleHover:c,handleLeave:s,highlightedImg:e,mapEntities:a,entityType:"default"}),o.jsx(Et,{images:t})]})]})})},Bt=()=>o.jsx("div",{children:o.jsx(Ke,{children:o.jsx(Ot,{})})});export{Bt as default};
